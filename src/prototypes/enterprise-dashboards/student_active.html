<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
    <title>Sharpen Prototype: Enterprise Dashboards - Student - Active</title>
    <link rel="stylesheet" href="../build/kezuri.css" />
    <script type="module" src="../build/kezuri.esm.js"></script>
    <script nomodule src="../build/kezuri.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>

    <link rel="stylesheet" href="../enterprise-management/enterprise-layout.css" />
    <link rel="stylesheet" href="dashboards.css" />
  </head>
  <body>

    <div class="sharpen-enterprise-container">
      <div class="sharpen-enterprise-navigation">
        <a class="brand" href="#"><img src="../build/assets/images/brand/sharpen_logo_ivory.png" /></a>

        <h1 class="district sharpen-heading-sm">Public Schools of Brookline</h1>

        <nav class="sharpen-mb-md">
        <sharpen-nav-link icon="near_me" name="District" href="javascript:void(0);"></sharpen-nav-link>
        </nav>

        <nav class="school-links">
          <h2 class="school sharpen-heading-sans-sm">Runkle School</h2>
          <sharpen-nav-link icon="info" name="About" href="javascript:void(0);"></sharpen-nav-link>
          <sharpen-nav-link icon="supervisor_account" name="Staff" href="javascript:void(0);"></sharpen-nav-link>
          <sharpen-nav-link icon="meeting_room" name="Classrooms" href="javascript:void(0);"></sharpen-nav-link>
          <sharpen-nav-link selected icon="face" name="Students" href="javascript:void(0);"></sharpen-nav-link>
          <sharpen-nav-link icon="shield_person" name="Admins" href="javascript:void(0);"></sharpen-nav-link>
        </nav>

        <nav class="support-links">
          <sharpen-nav-link icon="account_box" name="Dante Cardigan" href="javascript:void();"></sharpen-nav-link>  
          <sharpen-nav-link icon="help" name="Support" href="javascript:void();"></sharpen-nav-link>  
          <sharpen-nav-link icon="logout" name="Log Out" href="javascript:void();"></sharpen-nav-link>  
        </nav>
        
      </div>
      <main>
        
        <h1 class="sharpen-heading-2xl sharpen-mb-md">
          <a href="javascript:void(0);">Schools</a> &rsaquo; <a href="javascript:void(0);">Runkle School</a> &rsaquo; <a href="javascript:void(0);">Students</a> &rsaquo; Onni Abelli
        </h1>

        <div class="row">
          <div class="col-lg-3">
            <sharpen-card border="gray" padding="medium" class="sharpen-mb-md">
              <dl class="sharpen-list">
                <dt>Name</dt>
                <dd class="sharpen-text-lg">Onni Abelli</dd>

                <dt>Current Grade</dt>
                <dd>3</dd>

                <dt>Reading Status</dt>
                <dd>
                  <sharpen-label type="success" icon="check">At grade level</sharpen-label>
                </dd>

                <dt>Classrooms</dt>
                <dd><a href="school_class.html">Mr. Cardigan - Room 4</a></dd>

                <dt>Sharpen Tutor</dt>
                <dd>
                  <a href="staff_show.html">Leo Tillens</a>
                </dd>
              </dl>

              <div class="profile-button-set">
                <button class="sharpen-button sharpen-button--xsmall sharpen-button--primary sharpen-button--full-width">
                  <i class="sharpen-icon">play_arrow</i>
                  Start lesson
                </button>
                <button class="sharpen-button sharpen-button--xsmall sharpen-button--secondary sharpen-button--full-width">
                  <i class="sharpen-icon">edit</i>
                  Edit
                </button>
              </div>
            </sharpen-card>

            <sharpen-card border="gray" padding="medium">
              <dl class="sharpen-list sharpen-mb-md">
                <dt>Sharpen Level</dt>
                <dd>
                  The Sharpen curriculum contains 5 levels. Onni is currently
                  in <strong>Level B2</strong>.
                </dd>
              </dl>
              <table class="level-continuum">
                <tbody>
                  <tr>
                    <td></td>
                    <th>
                      A
                      <div class="grade">Grades K–1</div>
                    </th>
                  </tr>
                  <!-- <tr>
                    <td></td>
                    <th>
                      A Accelerated
                      <div class="grade">Grades K–1</div>
                    </th>
                  </tr> -->
                  <tr>
                    <td></td>
                    <th>
                      B1
                      <div class="grade">Grade 1</div>
                    </th>
                  </tr>
                  <tr class="current">
                    <td><i class="sharpen-icon">arrow_forward</i></td>
                    <th>
                      B2
                      <div class="grade">Grade 2</div>
                    </th>
                  </tr>
                  <tr>
                    <td></td>
                    <th>
                      C
                      <div class="grade">Grades 3–4</div>
                    </th>
                  </tr>
                  <tr>
                    <td></td>
                    <th>
                      D
                      <div class="grade">Grades 5–6</div>
                    </th>
                  </tr>
                </tbody>
              </table>
            </sharpen-card>
          </div>
          <div class="col-lg-9">
            <ul class="sharpen-tabs sharpen-mb-md">
              <li class="tab selected">
                <a href="school_student.html"><i class="sharpen-icon">show_chart</i>Progress</a>  
              </li>
              <li class="tab">
                <a href="school_student_reports.html"><i class="sharpen-icon">lab_profile</i>Reports</a>
              </li>
              <li class="tab">
                <a href="school_student_history.html"><i class="sharpen-icon">calendar_today</i>Session History</a>  
              </li>
              <li class="tab">
                <a href="school_student_transitions.html"><i class="sharpen-icon">sync_alt</i>Transitions</a>  
              </li>
            </ul>

            <sharpen-card border="gray" padding="medium" class="card-overall-progress sharpen-mb-md">
              <dl class="sharpen-list">
                <dt>Overview of Student Progress</dt>
                <dd>
                  <div class="sharpen-text-lg"><strong>+1.7 grade levels of improvement</strong></div>
                  <div class="sharpen-text-sm">in 31 hours of dosage</div>
                </dd>
              </dl>
              <div class="progress-legend sharpen-my-md">
                <span class="target-legend"></span> Expected progress based on target pace&emsp;&emsp;&emsp;
                <span class="actual-legend"></span> Actual progress
              </div>
              <div style="height:250px;">
                <canvas id="viz-overall-progress" class="sharpen-mt-md"></canvas>
              </div>
              <div class="sharpen-text-xs sharpen-text--muted"><em>Onni started Sharpen in May 2024 at 2 grade levels behind. She placed into Sharpen Level A.</em></div>
            </sharpen-card>

            <div class="row">
              <div class="col-lg-6">
                <table class="sharpen-table sharpen-table--compact sharpen-table--enclosed sharpen-table-dosage-metrics sharpen-mb-md">
                  <thead>
                    <tr>
                      <th>Dosage</th>
                      <th class="metric-value">Target</th>
                      <th class="metric-value">Average,<br />last 4w</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Sessions per week</td>
                      <td class="metric-value">3</td>
                      <td class="metric-value off-target">2.9</td>
                      <td class="metric-status off-target">
                        <i class="sharpen-icon">warning</i>
                      </td>
                    </tr>
                    <tr>
                      <td>Session length (minutes)</td>
                      <td class="metric-value">20</td>
                      <td class="metric-value on-target">21</td>
                      <td class="metric-status on-target">
                        <i class="sharpen-icon">check</i>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <a href="targets.html" class="sharpen-button sharpen-button--xsmall sharpen-button--secondary sharpen-button--full-width sharpen-mb-lg">
                  <i class="sharpen-icon">edit</i>
                  Change dosage targets
                </a>
              </div>
              <div class="col-lg-6">
                <table class="sharpen-table sharpen-table--compact sharpen-table--enclosed sharpen-table-dosage-metrics sharpen-mb-lg">
                  <thead>
                    <tr>
                      <th>Pace</th>
                      <th class="metric-value">Target</th>
                      <th class="metric-value">Average,<br />last 4w</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Lessons per half-hour</td>
                      <td class="metric-value">1</td>
                      <td class="metric-value on-target">0.9</td>
                      <td class="metric-status on-target">
                        <i class="sharpen-icon">check</i>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <sharpen-card border="gray" padding="medium">
              <dl class="sharpen-list">
                <dt>Mastery of Material by Skill</dt>
              </dl>

              <div class="sharpen-text-xs sharpen-mb-md"><em>Target: Student masters 80% of items encountered</em></div>

              <div style="height: 200px;">
                <canvas id="viz-mastery-by-skill" class="sharpen-mt-md"></canvas>
              </div>
            </sharpen-card>

          </div>
        </div>

      </main>
    </div>

    <script>
      const ctx = document.getElementById('viz-overall-progress');
      
      // Register the plugin
      Chart.register(ChartDataLabels);
      Chart.defaults.font.family = 'Sharpen Sans';
      
      new Chart(ctx, {
        type: 'line',
        data: {
          datasets: [{
            data: [
              { x: 0, y: 0, date: "2024 May 17" },
              { x: 1, y: 0.05, date: "2024 May 18" },
              { x: 2, y: 0.1, date: "2024 May 20" },
              { x: 3, y: 0.15, date: "2024 May 22" },
              { x: 4, y: 0.2, date: "2024 May 24" },
              { x: 5, y: 0.25, date: "2024 May 26" },
              { x: 6, y: 0.3, date: "2024 May 28" },
              { x: 7, y: 0.4, date: "2024 May 30" },
              { x: 8, y: 0.5, date: "2024 Jun 1" },
              { x: 9, y: 0.6, date: "2024 Jun 3" },
              { x: 10, y: 0.65, date: "2024 Jun 5" },
              { x: 11, y: 0.67, date: "2024 Jun 7" },
              { x: 12, y: 0.7, date: "2024 Jun 9" },
              { x: 13, y: 0.71, date: "2024 Jun 11" },
              { x: 14, y: 0.75, date: "2024 Jun 13" },
              { x: 15, y: 0.8, date: "2024 Jun 15" },
              { x: 16, y: 0.81, date: "2024 Jun 17" },
              { x: 17, y: 0.82, date: "2024 Jun 19" },
              { x: 18, y: 0.83, date: "2024 Jun 21" },
              { x: 19, y: 0.85, date: "2024 Jun 23" },
              { x: 20, y: 0.87, date: "2024 Jun 25" },
              { x: 21, y: 0.9, date: "2024 Jun 27" },
              { x: 22, y: 0.92, date: "2024 Jun 29" },
              { x: 23, y: 0.95, date: "2024 Jul 1" },
              { x: 24, y: 1.0, date: "2024 Jul 3" },
              { x: 25, y: 1.05, date: "2024 Jul 5" },
              { x: 26, y: 1.2, date: "2024 Jul 7" },
              { x: 27, y: 1.3, date: "2024 Jul 9" },
              { x: 28, y: 1.4, date: "2024 Jul 11" },
              { x: 29, y: 1.5, date: "2024 Jul 13" },
              { x: 30, y: 1.6, date: "2024 Jul 15" },
              { x: 31, y: 1.7, date: "2024 Jul 17" }],
            borderColor: '#31776C',
            tension: 0.4,
            pointRadius: 4,
            pointBackgroundColor: '#31776C',
            pointBorderColor: '#fff',
            pointBorderWidth: 2
          }, {
            data: [{x: 0, y: 0}, {x: 24, y: 1}, {x: 36, y: 2}, {x: 45, y: 3}],
            borderWidth: 30,
            pointRadius: 0,
            borderColor: '#C8EBD766',
            borderCapStyle: 'round',
            tension: 0.5
          }]
        },
        options: {
          maintainAspectRatio: false,
          scales: {
            x: {
              type: 'linear',
              max: 45,
              ticks: { padding: 1, callback: value => `${value}h` },
              offset: true
            },
            y: {
              beginAtZero: true,
              max: 3.5,
              ticks: { callback: value => `+${value}` },
              title: { display: true, text: 'Grade Level Improvement (GLI)' }
            }
          },
          plugins: {
            datalabels: { display: false },
            legend: { display: false },
            tooltip: {
              intersect: false,
              callbacks: {
                title: (context) => `${context[0].raw.x} total hours`,
                afterTitle: (context) => `as of ${context[0].raw.date}`,
                label: (context) => `+${context.raw.y.toFixed(2)} grade levels improved`
              }
            },
            annotation: {
              annotations: {
                level1target: {
                  type: 'box',
                  drawTime: 'beforeDraw',
                  xMin: 22,
                  xMax: 26,
                  yMin: 0.875,
                  yMax: 1.125,
                  borderColor: '#31776C',
                  borderWidth: 1,
                  borderDash: [4, 2],
                  backgroundColor: 'transparent'
                },
                level1success: {
                  type: 'line',
                  drawTime: 'beforeDraw',
                  xMin: 0,
                  xMax: 24,
                  yMin: 1,
                  yMax: 1,
                  borderColor: '#31776C',
                  borderWidth: 1,
                  label: {
                    display: true,
                    content: '+1 GLI achieved @ 24h',
                    font: { size: 10, weight: 'normal' },
                    position: 'start',
                    backgroundColor: '#31776C'
                  }
                },
                level2descriptor: {
                  type: 'line',
                  xMin: 0,
                  xMax: 33.5,
                  yMin: 2,
                  yMax: 2,
                  borderColor: '#999999',
                  borderWidth: 1,
                  arrowHeads: { end: { display: true, width: 4, length: 6 } },
                  label: {
                    display: true,
                    content: '+2 GLI target @ 36h',
                    font: { size: 10, weight: 'normal' },
                    position: 'start',
                    color: '#31776C',
                    backgroundColor: '#C8EBD7'
                  }
                },
                level2target: {
                  type: 'box',
                  drawTime: 'beforeDraw',
                  xMin: 34,
                  xMax: 38,
                  yMin: 1.875,
                  yMax: 2.125,
                  borderColor: '#31776C',
                  borderWidth: 1,
                  borderDash: [4, 2],
                  backgroundColor: 'transparent'
                },
                level3descriptor: {
                  type: 'line',
                  xMin: 0,
                  xMax: 42.5,
                  yMin: 3,
                  yMax: 3,
                  borderColor: '#999999',
                  borderWidth: 1,
                  arrowHeads: { end: { display: true, width: 4, length: 6 } },
                  label: {
                    display: true,
                    content: '+3 GLI target @ 45h',
                    font: { size: 10, weight: 'normal' },
                    position: 'start',
                    color: '#31776C',
                    backgroundColor: '#C8EBD7'
                  }
                },
                level3target: {
                  type: 'box',
                  drawTime: 'beforeDraw',
                  xMin: 43,
                  xMax: 47,
                  yMin: 2.875,
                  yMax: 3.125,
                  borderColor: '#31776C',
                  borderWidth: 1,
                  borderDash: [4, 2],
                  backgroundColor: 'transparent'
                },
              }
            }
          }
        }
      });

      // Mastery by skill chart
      const masteryCtx = document.getElementById('viz-mastery-by-skill');

      new Chart(masteryCtx, {
        type: 'bar',
        data: {
          labels: ['B1 Unit 10', 'B1 Unit 11', 'B1 Unit 12', 'B2 Unit 1', 'B2 Unit 2', 'B2 Unit 3'],
          datasets: [
            {
              label: 'Letter Sounds',
              data: [96, 63, 74, 64, 91, 80],
              backgroundColor: '#2E5E29',
              borderColor: 'transparent',
              borderWidth: 1,
            },
            {
              label: 'Spelling',
              data: [89, 88, 81, 96, 84, 83],
              backgroundColor: '#68A362',
              borderColor: 'transparent',
              borderWidth: 1,
            },
            {
              label: 'Words',
              data: [77, 82, 69, 66, 79, 93],
              backgroundColor: '#B8DBAA',
              borderColor: 'transparent',
              borderWidth: 1,
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              max: 100,
              grid: {
                color: '#e5e5e5'
              },
              ticks: {
                callback: value => `${value}%`
              }
            },
            x: {
              grid: {
                display: false
              }
            }
          },
          plugins: {
            legend: {
              position: 'left',
              align: 'middle',
              labels: {
                boxWidth: 12,
                usePointStyle: true,
                pointStyle: 'rect'
              }
            },
            tooltip: {
              callbacks: {
                label: (context) => `${context.dataset.label}: ${context.raw}%`
              }
            },
            annotation: {
              annotations: {
                line1: {
                  type: 'line',
                  yMin: 80,
                  yMax: 80,
                  borderColor: '#666666',
                  borderWidth: 1,
                  borderDash: [5, 5]
                }
              }
            },
            datalabels: {
              display: false
            }
          }
        }
      });
    </script>
  </body>
</html>
